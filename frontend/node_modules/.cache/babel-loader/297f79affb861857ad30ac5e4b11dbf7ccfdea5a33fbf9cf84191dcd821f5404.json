{"ast":null,"code":"var _jsxFileName = \"/home/himanshuk/repos/learning/DeliFood/frontend/src/pages/Menu.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Footer from '../components/shared/Footer';\nimport Card from '../components/shared/Card';\nimport Loader from '../components/shared/Loader';\nimport { FaSearch } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Menu = () => {\n  _s();\n  const [input, setInput] = useState('');\n  const [data, setData] = useState([]);\n  const [category, setCategory] = useState('');\n  const [loader, setLoader] = useState(true);\n  const fetchApiData = async () => {\n    try {\n      const menuData = await fetch('http://localhost:3000/dishes').then(res => res.json()).then(data => setData(Object.values(data)));\n\n      // setLoader(false)\n      return menuData;\n    } catch (error) {\n      console.log(error);\n      // setLoader(false)\n    } finally {\n      setLoader(false);\n    }\n  };\n  useEffect(() => {\n    fetchApiData();\n  });\n  const getFoodItems = (input, category) => {\n    let foodItem = data;\n    if (category !== '') {\n      foodItem = foodItem.filter(item => item.category === `${category}`);\n    }\n    if (input !== '') {\n      foodItem = foodItem.filter(item => item.name.toLowerCase().trim().includes(`${input.toLowerCase().trim()}`));\n    }\n    return foodItem;\n  };\n  const foodItems = getFoodItems(input, category);\n  const getFoodCategory = data.map(foodCategory => foodCategory.category).reduce((accumulator, foodCategory) => {\n    if (!accumulator.includes(foodCategory)) {\n      accumulator.push(foodCategory);\n    }\n    return accumulator;\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-bar flex-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-input flex-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Type your search...\",\n            value: input,\n            onChange: e => setInput(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FaSearch, {\n            id: \"input-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu-header flex-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"popular-hdr-text\",\n          children: \"Popular Cuisines \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popular-btn flex-se\",\n          children: [getFoodCategory.map(foodCategory => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCategory(foodCategory),\n            className: \"main-btn btn \",\n            children: [foodCategory, \" (\", getFoodItems(input, foodCategory).reduce((acc, val) => val.category === `${foodCategory}` ? acc + 1 : acc, 0), \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCategory(''),\n            className: \"btn main-btn\",\n            children: [\"All (\", getFoodItems(input, '').length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu-container\",\n        children: foodItems.map(filterItems => /*#__PURE__*/_jsxDEV(Card, {\n          ...filterItems\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), loader && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 18\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Menu, \"4EpeXNSsDZBDFa6jTwv2RC2H85Y=\");\n_c = Menu;\nexport default Menu;\nvar _c;\n$RefreshReg$(_c, \"Menu\");","map":{"version":3,"names":["React","useEffect","useState","Footer","Card","Loader","FaSearch","jsxDEV","_jsxDEV","Fragment","_Fragment","Menu","_s","input","setInput","data","setData","category","setCategory","loader","setLoader","fetchApiData","menuData","fetch","then","res","json","Object","values","error","console","log","getFoodItems","foodItem","filter","item","name","toLowerCase","trim","includes","foodItems","getFoodCategory","map","foodCategory","reduce","accumulator","push","children","className","placeholder","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","id","onClick","acc","val","length","filterItems","_c","$RefreshReg$"],"sources":["/home/himanshuk/repos/learning/DeliFood/frontend/src/pages/Menu.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Footer from '../components/shared/Footer'\nimport Card from '../components/shared/Card'\nimport Loader from '../components/shared/Loader'\nimport { FaSearch } from 'react-icons/fa'\n\nconst Menu = () => {\n  const [input, setInput] = useState('')\n  const [data, setData] = useState([])\n  const [category, setCategory] = useState('')\n  const [loader, setLoader] = useState(true)\n\n  const fetchApiData = async () => {\n    try {\n      const menuData = await fetch('http://localhost:3000/dishes')\n        .then((res) => res.json())\n        .then((data) => setData(Object.values(data)))\n\n      // setLoader(false)\n      return menuData\n    } catch (error) {\n      console.log(error)\n      // setLoader(false)\n    } finally {\n      setLoader(false)\n    }\n  }\n\n  useEffect(() => {\n    fetchApiData()\n  })\n\n  const getFoodItems = (input, category) => {\n    let foodItem = data\n    if (category !== '') {\n      foodItem = foodItem.filter((item) => item.category === `${category}`)\n    }\n\n    if (input !== '') {\n      foodItem = foodItem.filter((item) =>\n        item.name.toLowerCase().trim().includes(`${input.toLowerCase().trim()}`)\n      )\n    }\n\n    return foodItem\n  }\n  const foodItems = getFoodItems(input, category)\n\n  const getFoodCategory = data\n    .map((foodCategory) => foodCategory.category)\n    .reduce((accumulator, foodCategory) => {\n      if (!accumulator.includes(foodCategory)) {\n        accumulator.push(foodCategory)\n      }\n      return accumulator\n    }, [])\n\n  return (\n    <>\n      <div>\n        <div className='search-bar flex-center'>\n          <div className='search-input flex-center'>\n            <input\n              placeholder='Type your search...'\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n            />\n            <FaSearch id='input-icon' />\n          </div>\n        </div>\n        <div className='menu-header flex-center'>\n          <h2 className='popular-hdr-text'>Popular Cuisines </h2>\n          <div className='popular-btn flex-se'>\n            {getFoodCategory.map((foodCategory) => (\n              <button\n                onClick={() => setCategory(foodCategory)}\n                className='main-btn btn '\n              >\n                {foodCategory} (\n                {getFoodItems(input, foodCategory).reduce(\n                  (acc, val) =>\n                    val.category === `${foodCategory}` ? acc + 1 : acc,\n                  0\n                )}\n                )\n              </button>\n            ))}\n\n            <button onClick={() => setCategory('')} className='btn main-btn'>\n              All ({getFoodItems(input, '').length})\n            </button>\n          </div>\n        </div>\n\n        <div className='menu-container'>\n          {foodItems.map((filterItems) => (\n            <Card {...filterItems} />\n          ))}\n        </div>\n      </div>\n      {loader && <Loader />}\n      <Footer />\n    </>\n  )\n}\n\nexport default Menu\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}